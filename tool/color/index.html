<html lang="zh-CN">

<head>
    <title>自由调色板 - ChiwaInori.top</title>
    <meta charset="UTF-8" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="stylesheet" href="/css/global.css" />
    <link rel="stylesheet" href="/css/type-normal.css" />
    <style>
        #cw-main {
            background-color: #888888;
            transition: background-color 0.5s var(--transit);
        }

        h1, #cw-nav h6, h3 {
            color: var(--white-0);
            transition: color 0s;
        }

        input[type="range"] {
            width: 506px;
            height: 8px;
        }

        #colorBlock {
            width: 500px;
            height: 500px;
            background-color: #000000;
        }
    </style>
    <script src="/chiwa-functions.js"></script>
</head>

<body id="body"><div id="cw-main">
    <div id="cw-title">
        <h1>自由调色板</h1>
    </div>
    <div id="cw-nav"><h6>&nbsp;</h6></div>
    <div id="cw-content">
        <h3 id="choose-rgb">RGB | <span onclick="turn('cmyk')" class="LNK">CMYK</span> | <span onclick="turn('hsv')" class="LNK">HSV</span> | <span onclick="turn('hsl')" class="LNK">HSL</span></h3>
        <h3 id="choose-cmyk" hidden><span onclick="turn('rgb')" class="LNK">RGB</span> | CMYK | <span onclick="turn('hsv')" class="LNK">HSV</span> | <span onclick="turn('hsl')" class="LNK">HSL</span></h3>
        <h3 id="choose-hsv" hidden><span onclick="turn('rgb')" class="LNK">RGB</span> | <span onclick="turn('cmyk')" class="LNK">CMYK</span> | HSV | <span onclick="turn('hsl')" class="LNK">HSL</span></h3>
        <h3 id="choose-hsl" hidden><span onclick="turn('rgb')" class="LNK">RGB</span> | <span onclick="turn('cmyk')" class="LNK">CMYK</span> | <span onclick="turn('hsv')" class="LNK">HSV</span> | HSL</h3>

        <table id="adjust-rgb">
            <tr>
                <th style="color: #ff0000;">R / 红, Red</th>
                <th><input id="rgb-r" type="range" min="0" max="255" step="1" value="0" oninput="changeColor()" /></th>
                <th><span id="rgb-r-value" style="color: #000000;">0 / 00</span></th>
            </tr>
            <tr>
                <th style="color: #00ff00;">G / 绿, Green</th>
                <th><input id="rgb-g" type="range" min="0" max="255" step="1" value="0" oninput="changeColor()" /></th>
                <th><span id="rgb-g-value" style="color: #000000;">0 / 00</span></th>
            </tr>
            <tr>
                <th style="color: #0000ff;">B / 蓝, Blue</th>
                <th><input id="rgb-b" type="range" min="0" max="255" step="1" value="0" oninput="changeColor()" /></th>
                <th><span id="rgb-b-value" style="color: #000000;">0 / 00</span></th>
            </tr>
        </table>

        <table id="adjust-cmyk" hidden>
            <tr>
                <th style="color: #00ffff;">C / 青, Cyan</th>
                <th><input id="cmyk-c" type="range" min="0" max="100" step="1" value="0" oninput="changeColor()" /></th>
                <th><span id="cmyk-c-value" style="color: #ffffff;">0</span></th>
            </tr>
            <tr>
                <th style="color: #ff00ff;">M / 品红, Magenta</th>
                <th><input id="cmyk-m" type="range" min="0" max="100" step="1" value="0" oninput="changeColor()" /></th>
                <th><span id="cmyk-m-value" style="color: #ffffff;">0</span></th>
            </tr>
            <tr>
                <th style="color: #ffff00;">Y / 黄, Yellow</th>
                <th><input id="cmyk-y" type="range" min="0" max="100" step="1" value="0" oninput="changeColor()" /></th>
                <th><span id="cmyk-y-value" style="color: #ffffff;">0</span></th>
            </tr>
            <tr>
                <th style="color: #000000;">K / 黑, Key</th>
                <th><input id="cmyk-k" type="range" min="0" max="100" step="1" value="100" oninput="changeColor()" /></th>
                <th><span id="cmyk-k-value" style="color: #000000;">100</span></th>
            </tr>
        </table>

        <table id="adjust-hsv" hidden>
            <tr>
                <th style="background: linear-gradient(to right, #ff0000, #ff0000, #ffff00, #00ff00, #0000ff, #ff00ff, #ff00ff); background-clip: text; color: transparent;">H / 色相, Hue</th>
                <th><input id="hsv-h" type="range" min="0" max="359" step="1" value="0" oninput="changeColor()" /></th>
                <th><span id="hsv-h-value" style="color: #ff0000;">0°</span></th>
            </tr>
            <tr>
                <th style="background: linear-gradient(to right, #cccccc, #00ffff); background-clip: text; color: transparent;">S / 饱和度, Saturation</th>
                <th><input id="hsv-s" type="range" min="0" max="100" step="1" value="0" oninput="changeColor()" /></th>
                <th><span id="hsv-s-value" style="color: #cccccc;">0</span></th>
            </tr>
            <tr>
                <th style="background: linear-gradient(to right, #000000, #00ffff); background-clip: text; color: transparent;">V / 明度, Value</th>
                <th><input id="hsv-v" type="range" min="0" max="100" step="1" value="0" oninput="changeColor()" /></th>
                <th><span id="hsv-v-value" style="color: #000000;">0</span></th>
            </tr>
        </table>

        <table id="adjust-hsl" hidden>
            <tr>
                <th style="background: linear-gradient(to right, #ff0000, #ff0000, #ffff00, #00ff00, #0000ff, #ff00ff, #ff00ff); background-clip: text; color: transparent;">H / 色相, Hue</th>
                <th><input id="hsl-h" type="range" min="0" max="359" step="1" value="0" oninput="changeColor()" /></th>
                <th><span id="hsl-h-value" style="color: #ff0000;">0°</span></th>
            </tr>
            <tr>
                <th style="background: linear-gradient(to right, #cccccc, #00ffff); background-clip: text; color: transparent;">S / 饱和度, Saturation</th>
                <th><input id="hsl-s" type="range" min="0" max="100" step="1" value="0" oninput="changeColor()" /></th>
                <th><span id="hsl-s-value" style="color: #cccccc;">0</span></th>
            </tr>
            <tr>
                <th style="background: linear-gradient(to right, #000000, #ffffff); background-clip: text; color: transparent;">L / 亮度, Lightness</th>
                <th><input id="hsl-l" type="range" min="0" max="100" step="1" value="0" oninput="changeColor()" /></th>
                <th><span id="hsl-l-value" style="color: #000000;">0</span></th>
            </tr>
        </table>

        <br />
        <p><button onclick="read()">从剪切板中读取颜色</button> <span id="read-result"></span></p>
        
        <br />
        <div id="colorBlock" style="float: left; margin-right: 16px;"></div>
        <img id="img-rgb" src="rgb.png" width="200" />
        <img id="img-cmyk" src="cmyk.png" width="200" hidden />
        <img id="img-hsv" src="hsv.png" width="200" hidden />
        <img id="img-hsl" src="hsl.png" width="200" hidden />
        <table>
            <tr><th id="code-rgb-num" style="color: #000000;">rgb(0, 0, 0) <button onclick="copy('rgb-num')">复制</button></th></tr>
            <tr><th id="code-rgb-hex" style="color: #000000;">#000000 <button onclick="copy('rgb-hex')">复制</button></th></tr>
            <tr><th>&nbsp;</th></tr>
            <tr><th id="code-cmyk" style="color: #000000;">cmyk(0, 0, 0, 100) <button onclick="copy('cmyk')">复制</button></th></tr>
            <tr><th id="code-hsv" style="color: #000000;">hsv(0, 0, 0) <button onclick="copy('hsv')">复制</button></th></tr>
            <tr><th id="code-hsl" style="color: #000000;">hsl(0, 0, 0) <button onclick="copy('hsl')">复制</button></th></tr>
        </table>
        
    </div>
    <script>
        seizure("当你快速滑动本页面上的滚动条时，页面的<strong>布局颜色可能会快速改变</strong>。", "When you quickly swipe the scroll bar on this page, <strong>the layout color of the page may change quickly</strong>.", "このページでスクロールバーを素早く動かすと、<strong>ページのレイアウトの色が急に変わっちゃうことがあるよ</strong>！");

        const targets = ["choose", "adjust", "img"];
        const spaces = ["rgb", "cmyk", "hsv", "hsl"];

        let nowControlling;

        let rgb = { r: undefined, g: undefined, b: undefined };
        let cmyk = { c: undefined, m: undefined, y: undefined, k: undefined };
        let hsv = { h: undefined, s: undefined, v: undefined };
        let hsl = { h: undefined, s: undefined, l: undefined };

        function turn(colorspace) {
            targets.forEach(target => {
                spaces.forEach(space => {
                    if (colorspace == space) {
                        cw(`#${target}-${space}`).unhide();
                    } else {
                        cw(`#${target}-${space}`).hide();
                    }
                });
            });
        }

        function changeColor() {
            if (!cw("#choose-rgb").hidden) { nowControlling = "RGB"; }
            if (!cw("#choose-cmyk").hidden) { nowControlling = "CMYK"; }
            if (!cw("#choose-hsv").hidden) { nowControlling = "HSV"; }
            if (!cw("#choose-hsl").hidden) { nowControlling = "HSL"; }

            if (nowControlling == "RGB") {
                rgb.r = Number(cw("#rgb-r").value);
                rgb.g = Number(cw("#rgb-g").value);
                rgb.b = Number(cw("#rgb-b").value);

                cmyk = RGB2CMYK(rgb.r, rgb.g, rgb.b);
                hsv = RGB2HSV(rgb.r, rgb.g, rgb.b);
                hsl = RGB2HSL(rgb.r, rgb.g, rgb.b);
            }
            if (nowControlling == "CMYK") {
                cmyk.c = Number(cw("#cmyk-c").value);
                cmyk.m = Number(cw("#cmyk-m").value);
                cmyk.y = Number(cw("#cmyk-y").value);
                cmyk.k = Number(cw("#cmyk-k").value);

                rgb = CMYK2RGB(cmyk.c, cmyk.m, cmyk.y, cmyk.k);
                hsv = RGB2HSV(rgb.r, rgb.g, rgb.b);
                hsl = RGB2HSL(rgb.r, rgb.g, rgb.b);
            }
            if (nowControlling == "HSV") {
                hsv.h = Number(cw("#hsv-h").value);
                hsv.s = Number(cw("#hsv-s").value);
                hsv.v = Number(cw("#hsv-v").value);

                rgb = HSV2RGB(hsv.h, hsv.s, hsv.v);
                cmyk = RGB2CMYK(rgb.r, rgb.g, rgb.b);
                hsl = RGB2HSL(rgb.r, rgb.g, rgb.b);
            }
            if (nowControlling == "HSL") {
                hsl.h = Number(cw("#hsl-h").value);
                hsl.s = Number(cw("#hsl-s").value);
                hsl.l = Number(cw("#hsl-l").value);

                rgb = HSL2RGB(hsl.h, hsl.s, hsl.l);
                cmyk = RGB2CMYK(rgb.r, rgb.g, rgb.b);
                hsv = RGB2HSV(rgb.r, rgb.g, rgb.b);
            }

            // Formative
            rgb.r = Math.round(rgb.r);
            rgb.g = Math.round(rgb.g);
            rgb.b = Math.round(rgb.b);
            cmyk.c = Math.round(cmyk.c);
            cmyk.m = Math.round(cmyk.m);
            cmyk.y = Math.round(cmyk.y);
            cmyk.k = Math.round(cmyk.k);
            hsv.h = Math.round(hsv.h);
            hsv.s = Math.round(hsv.s);
            hsv.v = Math.round(hsv.v);
            hsl.h = Math.round(hsl.h);
            hsl.s = Math.round(hsl.s);
            hsl.l = Math.round(hsl.l);

            if (hsv.h == 360) { hsv.h = 0; }
            if (hsl.h == 360) { hsl.h = 0; }
            
            // Paint ColorBlock
            cw("#colorBlock").style = `background-color: rgb(${rgb.r}, ${rgb.g}, ${rgb.b}); float: left; margin-right: 16px;`;

            if (rgb.r.range(116, 156) && rgb.g.range(116, 156) && rgb.b.range(116, 156)) {
                applyAll("#cw-main", el => cw(el).style = `background-color: #222222;`);
            } else {
                applyAll("#cw-main", el => cw(el).style = `background-color: #888888;`);
            }

            // Update everyone's color

            // Titles

            applyAll("h1, #cw-nav h6, h3", el => cw(el).color = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`);

            // RGB
            cw("#rgb-r").el.value = rgb.r;
            cw("#rgb-g").el.value = rgb.g;
            cw("#rgb-b").el.value = rgb.b;

            cw("#rgb-r-value").html = `${rgb.r} / ${rgb.r.toString(16).length < 2 ? `0${rgb.r.toString(16).toUpperCase()}` : rgb.r.toString(16).toUpperCase()}`;
            cw("#rgb-g-value").html = `${rgb.g} / ${rgb.g.toString(16).length < 2 ? `0${rgb.g.toString(16).toUpperCase()}` : rgb.g.toString(16).toUpperCase()}`;
            cw("#rgb-b-value").html = `${rgb.b} / ${rgb.b.toString(16).length < 2 ? `0${rgb.b.toString(16).toUpperCase()}` : rgb.b.toString(16).toUpperCase()}`;
            cw("#code-rgb-num").html = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b}) <button onclick="copy('rgb-num')">复制</button>`;
            cw("#code-rgb-hex").html = `#${rgb.r.toString(16).length < 2 ? `0${rgb.r.toString(16).toUpperCase()}` : rgb.r.toString(16).toUpperCase()}${rgb.g.toString(16).length < 2 ? `0${rgb.g.toString(16).toUpperCase()}` : rgb.g.toString(16).toUpperCase()}${rgb.b.toString(16).length < 2 ? `0${rgb.b.toString(16).toUpperCase()}` : rgb.b.toString(16).toUpperCase()} <button onclick="copy('rgb-hex')">复制</button>`;

            cw("#rgb-r-value").color = `rgb(${rgb.r}, 0, 0)`;
            cw("#rgb-g-value").color = `rgb(0, ${rgb.g}, 0)`;
            cw("#rgb-b-value").color = `rgb(0, 0, ${rgb.b})`;
            cw("#code-rgb-num").color = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;
            cw("#code-rgb-hex").color = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;

            // CMYK
            cw("#cmyk-c").el.value = cmyk.c;
            cw("#cmyk-m").el.value = cmyk.m;
            cw("#cmyk-y").el.value = cmyk.y;
            cw("#cmyk-k").el.value = cmyk.k;

            cw("#cmyk-c-value").html = cmyk.c;
            cw("#cmyk-m-value").html = cmyk.m;
            cw("#cmyk-y-value").html = cmyk.y;
            cw("#cmyk-k-value").html = cmyk.k;
            cw("#code-cmyk").html = `cmyk(${cmyk.c}, ${cmyk.m}, ${cmyk.y}, ${cmyk.k}) <button onclick="copy('cmyk')">复制</button>`;

            cw("#cmyk-c-value").color = `rgb(${CMYK2RGB(cmyk.c, 0, 0, 0).r}, ${CMYK2RGB(cmyk.c, 0, 0, 0).g}, ${CMYK2RGB(cmyk.c, 0, 0, 0).b})`;
            cw("#cmyk-m-value").color = `rgb(${CMYK2RGB(0, cmyk.m, 0, 0).r}, ${CMYK2RGB(0, cmyk.m, 0, 0).g}, ${CMYK2RGB(0, cmyk.m, 0, 0).b})`;
            cw("#cmyk-y-value").color = `rgb(${CMYK2RGB(0, 0, cmyk.y, 0).r}, ${CMYK2RGB(0, 0, cmyk.y, 0).g}, ${CMYK2RGB(0, 0, cmyk.y, 0).b})`;
            cw("#cmyk-k-value").color = `rgb(${CMYK2RGB(0, 0, 0, cmyk.k).r}, ${CMYK2RGB(0, 0, 0, cmyk.k).g}, ${CMYK2RGB(0, 0, 0, cmyk.k).b})`;
            cw("#code-cmyk").color = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;

            // HSV
            cw("#hsv-h").el.value = hsv.h;
            cw("#hsv-s").el.value = hsv.s;
            cw("#hsv-v").el.value = hsv.v;

            cw("#hsv-h-value").html = `${hsv.h}°`;
            cw("#hsv-s-value").html = hsv.s;
            cw("#hsv-v-value").html = hsv.v;
            cw("#code-hsv").html = `hsv(${hsv.h}, ${hsv.s}, ${hsv.v}) <button onclick="copy('hsv')">复制</button>`;

            cw("#hsv-h-value").color = `rgb(${HSV2RGB(hsv.h, 100, 100).r}, ${HSV2RGB(hsv.h, 100, 100).g}, ${HSV2RGB(hsv.h, 100, 100).b})`;
            cw("#hsv-s-value").color = `rgb(${hsv.s.percentage(0, 100).transit(204, 0)}, ${hsv.s.percentage(0, 100).transit(204, 255)}, ${hsv.s.percentage(0, 100).transit(204, 255)})`;
            cw("#hsv-v-value").color = `rgb(0, ${hsv.v.percentage(0, 100).transit(0, 255)}, ${hsv.v.percentage(0, 100).transit(0, 255)})`;
            cw("#code-hsv").color = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;

            // HSL
            cw("#hsl-h").el.value = hsl.h;
            cw("#hsl-s").el.value = hsl.s;
            cw("#hsl-l").el.value = hsl.l;

            cw("#hsl-h-value").html = `${hsl.h}°`;
            cw("#hsl-s-value").html = hsl.s;
            cw("#hsl-l-value").html = hsl.l;
            cw("#code-hsl").html = `hsl(${hsl.h}, ${hsl.s}, ${hsl.l}) <button onclick="copy('hsl')">复制</button>`;

            cw("#hsl-h-value").color = `rgb(${HSL2RGB(hsl.h, 100, 50).r}, ${HSL2RGB(hsl.h, 100, 50).g}, ${HSL2RGB(hsl.h, 100, 50).b})`;
            cw("#hsl-s-value").color = `rgb(${hsl.s.percentage(0, 100).transit(204, 0)}, ${hsl.s.percentage(0, 100).transit(204, 255)}, ${hsl.s.percentage(0, 100).transit(204, 255)})`;
            cw("#hsl-l-value").color = `rgb(${hsl.l.percentage(0, 100).transit(0, 255)}, ${hsl.l.percentage(0, 100).transit(0, 255)}, ${hsl.l.percentage(0, 100).transit(0, 255)})`;
            cw("#code-hsl").color = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;
        }

        function read() {
            readColor().catch(e => {
                cw("#read-result").text = `读取错误: ${e}`;
                cw("#read-result").color = "var(--red)";
            });
        }
        async function readColor() {
            let value = await navigator.clipboard.readText();
            value = value.replaceAll(/(^ | $)/g, "");

            if (value == "" || value == null) {
                throw new ReferenceError("Clipboard is empty");
            }

            if (value.includes("rgb")) {
                const [r, g, b] = value.match(/rgb\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)/).slice(1, 4).map(Number);
                if (!r.range(0, 255) || !g.range(0, 255) || !b.range(0, 255)) { throw new ReferenceError("Invalid RGB code"); }

                cw("#rgb-r").value = r;
                cw("#rgb-g").value = g;
                cw("#rgb-b").value = b;

                turn("rgb");
                changeColor();
                cw("#read-result").text = `已读取 rgb(${r}, ${g}, ${b})`;
                cw("#read-result").color = "var(--green)";
                return;
            }
            if (value.includes("#")) {
                const hexCode = value.match(/(?<=#)[A-Fa-f0-9]{6}/)[0];
                const [r, g, b] = [Number(hexCode.slice(0, 2).transBase(16, 10)), Number(hexCode.slice(2, 4).transBase(16, 10)), Number(hexCode.slice(4, 6).transBase(16, 10))];
                if (!r.range(0, 255) || !g.range(0, 255) || !b.range(0, 255)) { throw new ReferenceError("Invalid RGB code"); }

                cw("#rgb-r").value = r;
                cw("#rgb-g").value = g;
                cw("#rgb-b").value = b;
                
                turn("rgb");
                changeColor();
                cw("#read-result").text = `已读取 #${hexCode}`;
                cw("#read-result").color = "var(--green)";
                return;
            }
            if (value.includes("cmyk")) {
                const [c, m, y, k] = value.match(/cmyk\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)/).slice(1, 5).map(Number);
                if (!c.range(0, 100) || !m.range(0, 100) || !y.range(0, 100) || !y.range(0, 100)) { throw new ReferenceError("Invalid CMYK code"); }

                cw("#cmyk-c").value = c;
                cw("#cmyk-m").value = m;
                cw("#cmyk-y").value = y;
                cw("#cmyk-k").value = k;
                
                turn("cmyk");
                changeColor();
                cw("#read-result").text = `已读取 cmyk(${c}, ${m}, ${y}, ${k})`;
                cw("#read-result").color = "var(--green)";
                return;
            }
            if (value.includes("hsv")) {
                const [h, s, v] = value.match(/hsv\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)/).slice(1, 4).map(Number);
                if (!h.range(0, 360) || !s.range(0, 100) || !v.range(0, 100)) { throw new ReferenceError("Invalid HSV code"); }
                
                cw("#hsv-h").value = h == 360 ? 0 : h;
                cw("#hsv-s").value = s;
                cw("#hsv-v").value = v;
                
                turn("hsv");
                changeColor();
                cw("#read-result").text = `已读取 hsv(${h}, ${s}, ${v})`;
                cw("#read-result").color = "var(--green)";
                return;
            }
            if (value.includes("hsl")) {
                const [h, s, l] = value.match(/hsl\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)/).slice(1, 4).map(Number);
                if (!h.range(0, 360) || !s.range(0, 100) || !l.range(0, 100)) { throw new ReferenceError("Invalid HSL code"); }
                
                cw("#hsl-h").value = h == 360 ? 0 : h;
                cw("#hsl-s").value = s;
                cw("#hsl-l").value = l;
                
                turn("hsl");
                changeColor();
                cw("#read-result").text = `已读取 hsl(${h}, ${s}, ${l})`;
                cw("#read-result").color = "var(--green)";
                return;
            }
            if (value.match(/\d{1,3}, ?\d{1,3}, ?\d{1,3}/)) {
                const [r, g, b] = value.match(/(\d{1,3}), ?(\d{1,3}), ?(\d{1,3})/).slice(1, 4).map(Number);
                if (!r.range(0, 255) || !g.range(0, 255) || !b.range(0, 255)) { throw new ReferenceError("Invalid RGB code"); }

                cw("#rgb-r").value = r;
                cw("#rgb-g").value = g;
                cw("#rgb-b").value = b;

                turn("rgb");
                changeColor();
                cw("#read-result").text = `已读取 rgb(${r}, ${g}, ${b})`;
                cw("#read-result").color = "var(--green)";
                return;
            }

            throw new ReferenceError("Invalid color code");
        }

        function copy(from) {
            navigator.clipboard.writeText(cw(`#code-${from}`).text.match(/^.*\)?(?= )/)[0]);
        }

        function RGB2CMYK(r, g, b) {
            if (r == 0 && g == 0 && b == 0) {
                return { c: 0, m: 0, y: 0, k: 100 };
            }

            // Convert RGB to range [0, 1]
            const rPrime = r / 255;
            const gPrime = g / 255;
            const bPrime = b / 255;

            // Calculate K (black key)
            const k = 1 - Math.max(rPrime, gPrime, bPrime);

            // Calculate CMY values
            const c = (1 - rPrime - k) / (1 - k);
            const m = (1 - gPrime - k) / (1 - k);
            const y = (1 - bPrime - k) / (1 - k);

            // Return CMYK values in the range [0, 100]
            return { c: c * 100, m: m * 100, y: y * 100, k: k * 100 };
        }

        function CMYK2RGB(c, m, y, k) {
            // Convert CMYK to RGB in range [0, 255]
            let r = 255 * (100 - c) * (100 - k) / 10000;
            let g = 255 * (100 - m) * (100 - k) / 10000;
            let b = 255 * (100 - y) * (100 - k) / 10000;

            // Round and ensure the values are within the range [0, 255]
            r = Math.round(r);
            g = Math.round(g);
            b = Math.round(b);

            return { r: r, g: g, b: b };
        }

        function RGB2HSV(r, g, b) {
            // Convert RGB to the range [0, 1]
            const rPrime = r / 255;
            const gPrime = g / 255;
            const bPrime = b / 255;

            const max = Math.max(rPrime, gPrime, bPrime);
            const min = Math.min(rPrime, gPrime, bPrime);
            const delta = max - min;

            let h, s, v = max;

            if (delta === 0) {
                h = 0; // If the color is a shade of grey
            } else if (max === rPrime) {
                h = (gPrime - bPrime) / delta % 6;
            } else if (max === gPrime) {
                h = (bPrime - rPrime) / delta + 2;
            } else {
                h = (rPrime - gPrime) / delta + 4;
            }

            h = Math.round(h * 60);
            if (h < 0) { h += 360; }

            s = max === 0 ? 0 : delta / max;
            s = Math.round(s * 100);
            v = Math.round(v * 100);

            return { h: h, s: s, v: v };
        }

        function HSV2RGB(h, s, v) {
            // Convert s and v to the range [0, 1]
            s /= 100;
            v /= 100;

            const c = v * s; // Chroma
            const x = c * (1 - Math.abs(h / 60 % 2 - 1));
            const m = v - c;

            let rPrime, gPrime, bPrime;

            if (h.range(0, 60, true, false)) {
                rPrime = c;
                gPrime = x;
                bPrime = 0;
            } else if (h.range(60, 120, true, false)) {
                rPrime = x;
                gPrime = c;
                bPrime = 0;
            } else if (h.range(120, 180, true, false)) {
                rPrime = 0;
                gPrime = c;
                bPrime = x;
            } else if (h.range(180, 240, true, false)) {
                rPrime = 0;
                gPrime = x;
                bPrime = c;
            } else if (h.range(240, 300, true, false)) {
                rPrime = x;
                gPrime = 0;
                bPrime = c;
            } else {
                rPrime = c;
                gPrime = 0;
                bPrime = x;
            }

            const r = Math.round((rPrime + m) * 255);
            const g = Math.round((gPrime + m) * 255);
            const b = Math.round((bPrime + m) * 255);

            return { r: r, g: g, b: b };
        }

        function RGB2HSL(r, g, b) {
            // Convert RGB to the range [0, 1]
            r /= 255;
            g /= 255;
            b /= 255;

            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0; // Achromatic
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);

                if (max == r) {
                    h = (g - b) / d + (g < b ? 6 : 0);
                }
                if (max == g) {
                    h = (b - r) / d + 2;
                }
                if (max == b) {
                    h = (r - g) / d + 4;
                }

                h /= 6;
            }

            h = Math.round(h * 360);
            s = Math.round(s * 100);
            l = Math.round(l * 100);

            return { h: h, s: s, l: l };
        }

        function HSL2RGB(h, s, l) {
            // Convert s and l from percentage to the range [0, 1]
            s /= 100;
            l /= 100;

            let r, g, b;

            if (s === 0) {
                r = g = b = l; // Achromatic
            } else {
                const hueToRgb = (p, q, t) => {
                    if (t < 0) { t += 1; }
                    if (t > 1) { t -= 1; }
                    if (t < 1 / 6) { return p + (q - p) * 6 * t; }
                    if (t < 1 / 2) { return q; }
                    if (t < 2 / 3) { return p + (q - p) * (2 / 3 - t) * 6; }
                    return p;
                };

                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;

                r = hueToRgb(p, q, h / 360 + 1 / 3);
                g = hueToRgb(p, q, h / 360);
                b = hueToRgb(p, q, h / 360 - 1 / 3);
            }

            r = Math.round(r * 255);
            g = Math.round(g * 255);
            b = Math.round(b * 255);

            return { r: r, g: g, b: b };
        }
    </script>
</div></body>

</html>