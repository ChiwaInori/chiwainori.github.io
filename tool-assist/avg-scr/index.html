<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <title>平均分影响值计算 - ChiwaInori.top</title>
    <meta charset="UTF-8" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="stylesheet" href="/css/global.css" />
    <link rel="stylesheet" href="/css/type-normal.css" />
    <style>
        input {
            width: 64px;
        }
    </style>
    <script src="/chiwa-functions.js"></script>
</head>

<body><div id="cw-main">
    <div id="cw-title">
        <h1>平均分影响值计算</h1>
    </div>
    <div id="cw-nav"><h6>&nbsp;</h6></div>
    <div id="cw-content">
        <p>在下方输入各项数据，然后点击 &quot;计算&quot; 计算你对平均分的影响值。</p>
        <p>分数 <input id="score" type="number" /> | 平均分 <input id="avg" type="number" /> | 参考人数 <input id="count" type="number" /></p>
        <p><button onclick="calc()">计算</button></p>
        <br />
        <p id="result"></p>
    </div>
    <script>
        function calc() {
            const score = { my: Number(cw("#score").value) };
            const avg = { real: Number(cw("#avg").value) };
            const count = Number(cw("#count").value);

            score.total = avg.real * count;
            score.except = score.total - score.my;
            avg.except = score.except / (count - 1);
            avg.delta = avg.real - avg.except;

            cw("#result").html = `你对平均分的影响值为 <strong>${avg.delta > 0 ? "+" : delta < 0 ? "-" : ""} ${Math.abs(avg.delta).keep(5)}</strong> 分`;
            cw("#result").color = avg.delta > 0 ? "var(--green)" : avg.delta < 0 ? "var(--red)" : "var(--textColor-500)";

            log(score, avg, count);
        }
    </script>
</div></body>

</html>