<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="stylesheet" href="/css/global.css" />
    <link rel="stylesheet" href="/css/type-normal.css" />
    <title>已知音符查找大调</title>
    <script src="/chiwa-functions.js"></script>
</head>

<body><div id="cw-main">
    <div id="cw-title">
        <h1>已知音符查找大调</h1>
    </div>
    <div id="cw-nav">&nbsp;</div>
    <div id="cw-content">
        <p>请勾选乐曲中出现过的音符，然后符合条件的大调将会被列举出来。</p>
        <p><label>
            <input type="checkbox" id="option1"> C
        </label></p>
        <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label>
            <input type="checkbox" id="option2"> C♯ / D♭
        </label></p>
        <p><label>
            <input type="checkbox" id="option3"> D
        </label></p>
        <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label>
            <input type="checkbox" id="option4"> D♯ / E♭
        </label></p>
        <p><label>
            <input type="checkbox" id="option5"> E
        </label></p>
        <p><label>
            <input type="checkbox" id="option6"> F
        </label></p>
        <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label>
            <input type="checkbox" id="option7"> F♯ / G♭
        </label></p>
        <p><label>
            <input type="checkbox" id="option8"> G
        </label></p>
        <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label>
            <input type="checkbox" id="option9"> G♯ / A♭
        </label></p>
        <p><label>
            <input type="checkbox" id="option10"> A
        </label></p>
        <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label>
            <input type="checkbox" id="option11"> A♯ / B♭
        </label></p>
        <p><label>
            <input type="checkbox" id="option12"> B
        </label></p>

        <p id="result"></p>
    </div>

    <script>
        const option1 = document.getElementById("option1");
        const option2 = document.getElementById("option2");
        const option3 = document.getElementById("option3");
        const option4 = document.getElementById("option4");
        const option5 = document.getElementById("option5");
        const option6 = document.getElementById("option6");
        const option7 = document.getElementById("option7");
        const option8 = document.getElementById("option8");
        const option9 = document.getElementById("option9");
        const option10 = document.getElementById("option10");
        const option11 = document.getElementById("option11");
        const option12 = document.getElementById("option12");

        function updateResult() {
            let ans1 = 1;
            let ans2 = 1;
            let ans3 = 1;
            let ans4 = 1;
            let ans5 = 1;
            let ans6 = 1;
            let ans7 = 1;
            let ans8 = 1;
            let ans9 = 1;
            let ans10 = 1;
            let ans11 = 1;
            let ans12 = 1;

            if (option1.checked) {
                ans3 = 0;
                ans5 = 0;
                ans7 = 0;
                ans10 = 0;
                ans12 = 0;
            }

            if (option2.checked) {
                ans1 = 0;
                ans4 = 0;
                ans6 = 0;
                ans8 = 0;
                ans11 = 0;
            }

            if (option3.checked) {
                ans2 = 0;
                ans5 = 0;
                ans7 = 0;
                ans9 = 0;
                ans12 = 0;
            }

            if (option4.checked) {
                ans1 = 0;
                ans3 = 0;
                ans6 = 0;
                ans8 = 0;
                ans10 = 0;
            }

            if (option5.checked) {
                ans2 = 0;
                ans4 = 0;
                ans7 = 0;
                ans9 = 0;
                ans11 = 0;
            }

            if (option6.checked) {
                ans3 = 0;
                ans5 = 0;
                ans8 = 0;
                ans10 = 0;
                ans12 = 0;
            }

            if (option7.checked) {
                ans1 = 0;
                ans4 = 0;
                ans6 = 0;
                ans9 = 0;
                ans11 = 0;
            }

            if (option8.checked) {
                ans2 = 0;
                ans5 = 0;
                ans7 = 0;
                ans10 = 0;
                ans12 = 0;
            }

            if (option9.checked) {
                ans1 = 0;
                ans3 = 0;
                ans6 = 0;
                ans8 = 0;
                ans11 = 0;
            }

            if (option10.checked) {
                ans2 = 0;
                ans4 = 0;
                ans7 = 0;
                ans9 = 0;
                ans12 = 0;
            }

            if (option11.checked) {
                ans1 = 0;
                ans3 = 0;
                ans5 = 0;
                ans8 = 0;
                ans10 = 0;
            }

            if (option12.checked) {
                ans2 = 0;
                ans4 = 0;
                ans6 = 0;
                ans9 = 0;
                ans11 = 0;
            }

            let doc1 = "";
            let doc2 = "";
            let doc3 = "";
            let doc4 = "";
            let doc5 = "";
            let doc6 = "";
            let doc7 = "";
            let doc8 = "";
            let doc9 = "";
            let doc10 = "";
            let doc11 = "";
            let doc12 = "";

            if (ans1 == 1) {
                doc1 = "<strong>C</strong> | ";
            }
            if (ans2 == 1) {
                doc2 = "<strong>C♯ / D♭</strong> | ";
            }
            if (ans3 == 1) {
                doc3 = "<strong>D</strong> | ";
            }
            if (ans4 == 1) {
                doc4 = "<strong>D♯ / E♭</strong> | ";
            }
            if (ans5 == 1) {
                doc5 = "<strong>E</strong> | ";
            }
            if (ans6 == 1) {
                doc6 = "<strong>F</strong> | ";
            }
            if (ans7 == 1) {
                doc7 = "<strong>F♯ / G♭</strong> | ";
            }
            if (ans8 == 1) {
                doc8 = "<strong>G</strong> | ";
            }
            if (ans9 == 1) {
                doc9 = "<strong>G♯ / A♭</strong> | ";
            }
            if (ans10 == 1) {
                doc10 = "<strong>A</strong> | ";
            }
            if (ans11 == 1) {
                doc11 = "<strong>A♯ / B♭</strong> | ";
            }
            if (ans12 == 1) {
                doc12 = "<strong>B</strong> | ";
            }

            let available = 12;
            if (doc1 == "") {
                available--;
            }
            if (doc2 == "") {
                available--;
            }
            if (doc3 == "") {
                available--;
            }
            if (doc4 == "") {
                available--;
            }
            if (doc5 == "") {
                available--;
            }
            if (doc6 == "") {
                available--;
            }
            if (doc7 == "") {
                available--;
            }
            if (doc8 == "") {
                available--;
            }
            if (doc9 == "") {
                available--;
            }
            if (doc10 == "") {
                available--;
            }
            if (doc11 == "") {
                available--;
            }
            if (doc12 == "") {
                available--;
            }

            if (available >= 2) {
                document.getElementById("result").style = "color: #666666;";
                document.getElementById("result").innerHTML = `可能的大调有: | ${doc1}${doc2}${doc3}${doc4}${doc5}${doc6}${doc7}${doc8}${doc9}${doc10}${doc11}${doc12}`;
                document.getElementById("option1").innerHTML = " C";
                document.getElementById("option2").innerHTML = " C♯ / D♭";
                document.getElementById("option3").innerHTML = " D";
                document.getElementById("option4").innerHTML = " D♯ / E♭";
                document.getElementById("option5").innerHTML = " E";
                document.getElementById("option6").innerHTML = " F";
                document.getElementById("option7").innerHTML = " F♯ / G♭";
                document.getElementById("option8").innerHTML = " G";
                document.getElementById("option9").innerHTML = " G♯ / A♭";
                document.getElementById("option10").innerHTML = " A";
                document.getElementById("option11").innerHTML = " A♯ / B♭";
                document.getElementById("option12").innerHTML = " B";
            }

            if (available == 1) {
                document.getElementById("result").innerHTML = `<strong>已确认大调: | ${doc1}${doc2}${doc3}${doc4}${doc5}${doc6}${doc7}${doc8}${doc9}${doc10}${doc11}${doc12}</strong>`;
                document.getElementById("result").style = "color: #00dd00;";
            }

            if (available == 0) {
                document.getElementById("result").innerHTML = "<strong>无法找到符合条件的大调。</strong>";
                document.getElementById("result").style = "color: #dd0000;";
            }
        }

        option1.addEventListener("change", updateResult);
        option2.addEventListener("change", updateResult);
        option3.addEventListener("change", updateResult);
        option4.addEventListener("change", updateResult);
        option5.addEventListener("change", updateResult);
        option6.addEventListener("change", updateResult);
        option7.addEventListener("change", updateResult);
        option8.addEventListener("change", updateResult);
        option9.addEventListener("change", updateResult);
        option10.addEventListener("change", updateResult);
        option11.addEventListener("change", updateResult);
        option12.addEventListener("change", updateResult);
    </script>

</div></body>
</html>
